# ==========================================
# CodeSem Environment Configuration
# ==========================================

# ---------------------------
# Required
# ---------------------------

# PostgreSQL connection string (pgvector-enabled)
# Example:
# postgresql://user:password@localhost:5432/codesem
DATABASE_URL=

# OpenAI API key for embeddings
OPENAI_API_KEY=

# ---------------------------
# Embeddings
# ---------------------------

# Embedding model (default: text-embedding-3-small)
EMBEDDING_MODEL=text-embedding-3-small

# Optional: override embedding dimensions
# Example: 512
# Leave empty to use provider default
EMBEDDING_DIMENSIONS=

# ---------------------------
# Chunking
# ---------------------------

# Number of tokens per chunk
CHUNK_TOKEN_SIZE=400

# Overlap between chunks
CHUNK_TOKEN_OVERLAP=50

# Max file size in MB before skipping
MAX_FILE_MB=5

# ---------------------------
# Indexing Behavior
# ---------------------------

# Comma-separated extensions (without dots)
# Example: py,ts,js,cs,go
INCLUDE_EXTENSIONS=py,ts,js,cs,go

# Exclude common directories like node_modules, .git, etc.
EXCLUDE_DEFAULT_DIRS=true

# Delete stale chunks during reindex
DELETE_STALE_ON_REINDEX=true

# ---------------------------
# Retrieval
# ---------------------------

# Default top_k for search
TOP_K_DEFAULT=5

# Hybrid scoring weights (must sum to 1.0)
HYBRID_WEIGHT_VECTOR=0.7
HYBRID_WEIGHT_KEYWORD=0.3

# ---------------------------
# Debug
# ---------------------------

# Enable debug logging
CODESEM_DEBUG=false
